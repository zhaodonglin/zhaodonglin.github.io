<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>FizzBuzzWhizz problem implemented in functional programming way · Hexo</title><meta name="description" content="FizzBuzzWhizz problem implemented in functional programming way - zhaodonglin"><link rel="icon" href="/"><link rel="stylesheet" href="/css/main.min.css"><meta name="generator" content="Hexo 5.0.2"></head><body><header><div class="navbar"><a class="logo" href="/"><span class="author">zhaodonglin</span></a><nav><a class="nav-link" href="/">home</a><a class="nav-link" href="/archives/">Archives</a><a class="nav-link" target="_blank" rel="noopener" href="https://github.com/zhaodonglin">GitHub</a></nav></div></header><main class="content"><aside class="toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Problem"><span class="toc-number">1.</span> <span class="toc-text">Problem</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Rule-Base-Idea"><span class="toc-number">2.</span> <span class="toc-text">Rule Base Idea</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#atom-rules"><span class="toc-number">2.1.</span> <span class="toc-text">atom_rules:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#composition-rules"><span class="toc-number">2.2.</span> <span class="toc-text">composition rules:</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Rule-Base-Implementation"><span class="toc-number">3.</span> <span class="toc-text">Rule Base Implementation</span></a></li></ol></aside><article class="post-block"><div class="front-matter"><h1 class="post-title">FizzBuzzWhizz problem implemented in functional programming way</h1><div class="post-info">2020/08/21</div><hr></div><div class="post-content"><h1 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h1><p>You are a physical education teacher, in five minutes a class from the class, you decide to get into a game. There are 100 students in our class at. The rules of the game are: </p>
<p>1 your first name three different special number, must be a number, such as 3, 5, 7.<br>2 let all the students into a team, and then according to the sequence number. </p>
<p>3 of the studentsReport, if the number is the first special numbers (3) times, so can’t say the number, say Fizz; if the reported figures are second special numbers (5) times, so to say Buzz; if the reported figures are third special numbers (7) times, so to say Whizz. </p>
<p>4 of the students reported the number, if the reported figures also is a multiple of two special number, also want special treatment, such as the first special numbers and second special integer multiples, so can not say this, but to say FizzBuzz, and so on. If it is a multiple of three special numbers, so to say FizzBuzzWhizz. </p>
<p>5 of the students reported the number, if the reported figures include the first special number, so can not say this, but to say the word, such as in the case of the first special number is 3, then to 13 of the students said that Fizz should be. If the number is included in the special number first, then ignore the rules 3 and 4, for example, to report 35 of the students reported that Fizz, not BuzzWhizz. </p>
<h1 id="Rule-Base-Idea"><a href="#Rule-Base-Idea" class="headerlink" title="Rule Base Idea"></a>Rule Base Idea</h1><p>Rules described above can be divided into two categories, one is the atom rule, the other one is composition rule.</p>
<h2 id="atom-rules"><a href="#atom-rules" class="headerlink" title="atom_rules:"></a>atom_rules:</h2><p>1 3–&gt;’Fizz’</p>
<p>2 5–&gt;’Buzz’</p>
<p>3 7–&gt;’Whizz’</p>
<h2 id="composition-rules"><a href="#composition-rules" class="headerlink" title="composition rules:"></a>composition rules:</h2><p>1 anyof –&gt; return the result as soon as the number matches one of the rules </p>
<p>2 allof –&gt; v</p>
<h1 id="Rule-Base-Implementation"><a href="#Rule-Base-Implementation" class="headerlink" title="Rule Base Implementation"></a>Rule Base Implementation</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">atom</span>(<span class="params">match, to</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">lambda</span> N: to(N) <span class="keyword">if</span> match(N) <span class="keyword">else</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">anyof</span>(<span class="params">*rules</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">N</span>):</span></span><br><span class="line">        rule = filter(<span class="keyword">lambda</span> r: r(N), rules)</span><br><span class="line">        <span class="keyword">return</span> rule[<span class="number">0</span>](N) <span class="keyword">if</span> rule <span class="keyword">else</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> f</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">allof</span>(<span class="params">*rules</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">lambda</span> N: <span class="string">&#x27;&#x27;</span>.join(map(<span class="keyword">lambda</span> r: r(N), rules))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">r1_3 = atom(<span class="keyword">lambda</span> x: x % <span class="number">3</span> == <span class="number">0</span>, <span class="keyword">lambda</span> _: <span class="string">&#x27;Fizz&#x27;</span>)</span><br><span class="line">r1_5 = atom(<span class="keyword">lambda</span> x: x % <span class="number">5</span> == <span class="number">0</span>, <span class="keyword">lambda</span> _: <span class="string">&#x27;Buzz&#x27;</span>)</span><br><span class="line">r1_7 = atom(<span class="keyword">lambda</span> x: x % <span class="number">7</span> == <span class="number">0</span>, <span class="keyword">lambda</span> _: <span class="string">&#x27;Whizz&#x27;</span>)</span><br><span class="line"></span><br><span class="line">r_3 = atom(<span class="keyword">lambda</span> x: <span class="string">&#x27;3&#x27;</span> <span class="keyword">in</span> str(x), <span class="keyword">lambda</span> _: <span class="string">&#x27;Fizz&#x27;</span>)</span><br><span class="line">r1 = anyof(r1_3, r1_5, r1_7)</span><br><span class="line">r2 = allof(r1_3, r1_5, r1_7)</span><br><span class="line">d_r = atom(<span class="keyword">lambda</span> _: <span class="literal">True</span>, <span class="keyword">lambda</span> N: str(N))</span><br><span class="line">spec = anyof(r_3, r2, r1, d_r)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100</span>):</span><br><span class="line">    <span class="keyword">print</span> spec(i)</span><br><span class="line">   </span><br></pre></td></tr></table></figure>

</div></article></main><footer><div class="paginator"></div><div class="copyright"><p>&copy;&nbsp; 2013&nbsp;-&nbsp;2020&nbsp;zhaodonglin&nbsp;</p><p>Power By&nbsp;<a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a><span>&nbsp;Theme By&nbsp;</span><a target="_blank" rel="noopener" href="https://github.com/bbbbx/hexo-theme-smash">Smash</a></p></div></footer></body></html>